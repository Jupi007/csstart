// ---------------------------------------------------
// CSS Variables (for dynamic light and dark variants)
// ---------------------------------------------------

$inverted-suffix: "-inverted";

:root {
    --spacer-base: #{$spacer-base};

    --body-bg: #{$body-bg};
    --body-color: #{$body-color};
    --body-bg-inverted: #{$body-bg-dark};
    --body-color-inverted: #{$body-color-dark};

    --link-color: #{$link-color};
    --link-hover-focus-color: #{$link-hover-focus-color};
    --link-visited-color: #{$link-visited-color};
    --link-visited-hover-focus-color: #{$link-visited-hover-focus-color};

    --link-color-inverted: #{$link-color-dark};
    --link-hover-focus-color-inverted: #{$link-hover-focus-color-dark};
    --link-visited-color-inverted: #{$link-visited-color-dark};
    --link-visited-hover-focus-color-inverted: #{$link-visited-hover-focus-color-dark};

    @each $name, $config in $custom-css-vars {
        $light: nth($config, 1);
        $dark: nth($config, 2);
        $inverted: nth($config, 3);

        --#{$name}: #{$light};

        @if $inverted {
            --#{$name}#{$inverted-suffix}: #{$dark};
        }
    }
}

@include option("dark-theme") {
    @media (prefers-color-scheme: dark) {
        :root {
            --body-bg: #{$body-bg-dark};
            --body-color: #{$body-color-dark};
            --body-bg-inverted: #{$body-bg};
            --body-color-inverted: #{$body-color};

            --link-color: #{$link-color-dark};
            --link-hover-focus-color: #{$link-hover-focus-color-dark};
            --link-visited-color: #{$link-visited-color-dark};
            --link-visited-hover-focus-color: #{$link-visited-hover-focus-color-dark};

            --link-color-inverted: #{$link-color};
            --link-hover-focus-color-inverted: #{$link-hover-focus-color};
            --link-visited-color-inverted: #{$link-visited-color};
            --link-visited-hover-focus-color-inverted: #{$link-visited-hover-focus-color};

            @each $name, $config in $custom-css-vars {
                $light: nth($config, 1);
                $dark: nth($config, 2);
                $inverted: nth($config, 3);

                --#{$name}: #{$dark};

                @if $inverted {
                    --#{$name}#{$inverted-suffix}: #{$light};
                }
            }
        }
    }

}
